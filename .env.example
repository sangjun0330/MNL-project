NEXT_ALLOWED_DEV_ORIGINS=http://localhost:3000
NEXT_PUBLIC_SITE_URL=https://rnest.kr

# ============================================================
# ⚠️  보안 주의사항
# ============================================================
# 1. 이 파일을 복사해 .env 또는 .env.local 로 사용하세요.
# 2. .env / .env.local 은 절대 git에 커밋하지 마세요.
# 3. NEXT_PUBLIC_ 접두사는 빌드 후 브라우저에 완전 공개됩니다.
#    API 키/시크릿 키에는 절대 NEXT_PUBLIC_ 을 붙이지 마세요.
#    (예: NEXT_PUBLIC_OPENAI_API_KEY 설정 금지)
# 4. .wnl_users/, .wnl_logs/ 폴더는 실제 사용자 건강정보(PII)를
#    포함하므로 git에 추가하지 마세요. (.gitignore에 등록됨)
# ============================================================

# OpenAI (서버 전용 — NEXT_PUBLIC_ 접두사 사용 금지)
OPENAI_API_KEY=sk-your-openai-key-here

# AI Med Safety
# 권장 범위: 3600~7000 (응답 품질 우선)
OPENAI_MODEL=gpt-5.1
OPENAI_MED_SAFETY_MODEL=gpt-5.1
OPENAI_MED_SAFETY_MAX_OUTPUT_TOKENS=7000
# AI 검색기 모델 고정(gpt-5.1 단일 사용)
OPENAI_MED_SAFETY_FALLBACK_MODELS=gpt-5.1
# 네트워크 재시도(권장 1~3)
OPENAI_MED_SAFETY_NETWORK_RETRIES=2
OPENAI_MED_SAFETY_NETWORK_RETRY_BASE_MS=700
# 선택: 기본/대체 API 베이스 URL 목록(쉼표 구분)
# OPENAI_MED_SAFETY_BASE_URLS=https://api.openai.com/v1
# OpenAI 상위 호출 단건 타임아웃(ms)
OPENAI_MED_SAFETY_UPSTREAM_TIMEOUT_MS=120000
# 전체 분석 최대 대기시간(ms): 초과 시 fallback
OPENAI_MED_SAFETY_TOTAL_BUDGET_MS=420000
# 분석 요청 타임아웃(ms)
OPENAI_MED_SAFETY_TIMEOUT_MS=600000

# Supabase (Auth + DB)
NEXT_PUBLIC_SUPABASE_URL=https://your-project.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=your-supabase-anon-key
SUPABASE_SERVICE_ROLE_KEY=your-supabase-service-role-key
SUPABASE_DATABASE_URL=postgresql://user:pass@host:5432/postgres

# TossPayments
NEXT_PUBLIC_TOSS_CLIENT_KEY=your-toss-client-key
TOSS_SECRET_KEY=your-toss-secret-key
TOSS_API_ACCEPT_LANGUAGE=ko-KR
# Optional (test key only): forces test error simulation code from Toss docs
TOSS_TEST_CODE=
# ⚠️ 필수(운영): 미설정 시 모든 결제 웹훅이 차단됩니다. 32자 이상 랜덤 문자열 권장
TOSS_WEBHOOK_TOKEN=
# ⚠️ 권장(운영): 토스 웹훅 IP 대역만 허용. 미설정 시 모든 IP 허용(보안 취약)
# 토스페이먼츠 공식 IP 목록: https://docs.tosspayments.com/reference/webhook
TOSS_WEBHOOK_IP_ALLOWLIST=

# 관리자 설정
# ⚠️ 필수: 환불 처리 알림을 받을 관리자 이메일 (소스코드에 직접 입력 금지)
REFUND_ADMIN_EMAIL=your-admin@example.com
# 관리자 User ID 목록 (쉼표 구분, Supabase auth.users.id 기준)
BILLING_ADMIN_USER_IDS=
# 관리자 이메일 목록 (쉼표 구분, 대소문자 무시)
BILLING_ADMIN_EMAILS=
