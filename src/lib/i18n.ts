export type Language = "ko" | "en";

type Vars = Record<string, string | number>;

const EN_BASE: Record<string, string> = {
  // Settings / common
  "설정": "Settings",
  "모든 기능을 사용하려면 로그인해야 합니다.": "Log in to use everything.",
  "일반": "General",
  "계정": "Account",
  "모드 설정": "Mode",
  "라이트 모드": "Light mode",
  "다크 모드": "Dark mode",
  "언어": "Language",
  "한국어": "Korean",
  "영어": "English",
  "영어 (미국)": "English (US)",
  "소셜 로그인": "Social sign-in",
  "로그인 방식": "Sign-in method",
  "계정 이메일": "Email",
  "로그인된 계정에 기록이 안전하게 저장됩니다.": "Your records are saved securely to this account.",
  "로그아웃": "Log out",
  "계정삭제": "Delete Account",
  "계정 삭제하기": "Delete Account",
  "정말로 계정을 삭제할까요?": "Are you sure you want to delete your account?",
  "삭제를 진행하려면 아래에 DELETE를 입력하세요.": "To continue, type DELETE below.",
  "삭제": "Delete",
  "취소": "Cancel",
  "Google로 계속": "Continue with Google",
  "Google 계정으로 로그인하면 기록이 계정에 저장되어 앱을 지우거나 기기를 바꿔도 복원할 수 있습니다.":
    "Sign in with Google to keep your records in your account, even if you switch devices.",
  "로그인 상태를 확인 중이에요.": "Checking your sign-in status...",
  "로그인 후 모든 기능(일정, 기록, 인사이트)을 사용할 수 있어요.":
    "Once you sign in, you can use all features (schedule, logs, insights).",
  "계정 삭제는 모든 데이터를 영구적으로 삭제합니다.": "Deleting your account permanently removes all your data.",
  "삭제하려면 DELETE를 입력해 주세요.": "Please type DELETE to proceed.",
  "삭제 중...": "Deleting...",
  "삭제가 완료되었습니다.": "Account deleted.",
  "삭제에 실패했습니다. 다시 시도해 주세요.": "Couldn't delete your account. Please try again.",
  "로그인이 필요해요": "Please log in first.",
  "로그인이 필요합니다": "Please log in first.",
  "설정으로 이동": "Open Settings",
  "모든 기능은 로그인 후 사용할 수 있어요. 설정에서 소셜 로그인으로 연결해 주세요.":
    "Please sign in from Settings to use all features.",
  "모든 기능을 사용하려면 로그인해야 합니다. 설정으로 이동해 주세요.":
    "Log in to use everything. Open Settings to continue.",
  "데이터 동기화 중…": "Syncing your data...",
  "로그인 데이터를 불러오는 중입니다.": "Loading your account data.",
  "알 수 없음": "Unknown",
  // Bottom nav
  "홈": "Home",
  "일정": "Schedule",
  "인사이트": "Insights",
};

const EN_EXTRA: Record<string, string> = {
  // Settings navigation
  "설정 항목을 선택해 주세요.": "Pick what you want to set up.",
  "일반 설정 열기": "Open General Settings",
  "계정 설정 열기": "Open Account Settings",
  "모드와 언어를 설정합니다.": "Set your mode and language.",
  "로그인과 계정 관리를 설정합니다.": "Manage sign-in and your account.",
  "영어로 바꾸면 상세 설명, 기록 칸, 팝업 문구까지 영어로 표시됩니다.":
    "When you switch to English, details, record fields, and popup text are shown in English too.",

  // Shared UI / sheets / records
  "(변동이 클 수 있어요)": "(May vary a lot)",
  "(예민함/피로감이 생기기 쉬워요)": "(You may feel more sensitive or tired)",
  "(피로도가 높을 수 있어요)": "(Fatigue can run high)",
  "(회복이 잘 되는 편이에요)": "(Recovery is usually smoother here)",
  "{count}잔": "{count} cups",
  "{date} · 수면/스트레스/활동/카페인": "{date} · Sleep/Stress/Activity/Caffeine",
  "{label} 비중 {pct} · 오늘의 오더를 함께 확인하세요.": "{label} {pct} · Check today's orders too.",
  "{label} 비중 {pct} · 피로 요인을 줄여보세요.": "{label} {pct} · Try cutting down this fatigue factor.",
  "※ 의료적 판단을 대신하지 않아요.": "* This does not replace medical judgment.",
  "✔ 생리 중": "✔ During period",
  "✔ 생리 직전": "✔ Right before period",
  "180일": "180 days",
  "2~10일": "2-10 days",
  "20~45일": "20-45 days",
  "30일": "30 days",
  "3교대 패턴": "3-shift pattern",
  "3교대 패턴 적용": "Apply 3-shift pattern",
  "60일": "60 days",
  "90일": "90 days",
  "가 표시돼요.": "is shown.",
  "가벼움": "Light",
  "강": "Strong",
  "건강 기록은 오늘/전날만 입력할 수 있어요. 다른 날짜는 근무/메모만 가능합니다.":
    "Health logs can only be added for today or yesterday. Other dates support shift and notes only.",
  "건강 기록은 오늘과 전날만 입력할 수 있어요.": "You can only add health logs for today and yesterday.",
  "건강 기록을 최소 3일 이상 입력해야 바디/멘탈 배터리가 보여요.":
    "Enter at least 3 days of health logs to unlock Body/Mental battery.",
  "건강 정보를 최소 {minDays}일 이상 기록해야 인사이트가 열립니다.":
    "Insights unlock after at least {minDays} days of health records.",
  "경고": "Warning",
  "근무": "Shift",
  "근무 설정": "Shift settings",
  "근무설정": "Shift settings",
  "근무 단계별": "By shift phase",
  "근무 미설정": "No shift set",
  "근무 없이 회복을 최적화하는 휴식 루틴을 안내합니다.": "Guides a rest routine that optimizes recovery without a shift.",
  "근무 연장 (h)": "Overtime (h)",
  "근무 이름 (직접 입력)": "Shift name (type your own)",
  "금": "Fri",
  "기록": "Record",
  "기록 지우기": "Clear record",
  "기록이 아직 없어서 오늘 지표가 비어 있어.": "No records yet, so today's metrics are empty.",
  "기본 패턴 빠른 적용": "Quick apply default pattern",
  "기분": "Mood",
  "기준": "Based on",
  "나쁨": "Bad",
  "날짜 선택": "Pick a date",
  "날짜를 누르면 바로 기록이 열려요": "Tap a date to open records right away.",
  "날짜를 눌러 기록/편집": "Tap a date to add/edit records",
  "낮음": "Low",
  "낮잠": "Nap",
  "낮잠 · 활동량": "Nap · Activity",
  "낮잠 (h)": "Nap (h)",
  "낮잠 시간": "Nap time",
  "낮잠 시간 입력(예: 0.5)": "Enter nap time (e.g. 0.5)",
  "내일": "Tomorrow",
  "높음": "High",
  "다음": "Next",
  "닫기": "Close",
  "대략 1잔 ≈ 120mg": "About 1 cup ≈ 120mg",
  "대략: 아메리카노 1잔 120mg 전후": "Roughly: 1 Americano is around 120mg",
  "덮어쓰기": "Overwrite",
  "데이터가 부족합니다. 수면/카페인/기분 중 1개만 입력해도 추천이 더 정교해집니다.":
    "Not enough data yet. Add just one of sleep/caffeine/mood for better recommendations.",
  "되돌리기": "Undo",
  "드라이버 · {label}": "Driver · {label}",
  "로그인 확인 중…": "Checking sign-in...",
  "리듬": "Rhythm",
  "마지막 생리 시작일": "Last period start date",
  "마지막 생리 시작일 선택": "Pick last period start date",
  "마지막 생리 시작일과 평균 주기를 기준으로 몸의 리듬을 자동 계산해요.":
    "Your rhythm is estimated automatically using your last period start and average cycle.",
  "마지막 카페인 (시간)": "Last caffeine (time)",
  "많음": "High",
  "맞춤 처방": "Personalized plan",
  "맞춤 회복 오더": "Personalized recovery orders",
  "맞춤 회복 중심 인사이트": "Recovery-focused personalized insights",
  "통계 중심 인사이트": "Stats-focused insights",
  "맞춤 회복 처방": "Personalized recovery prescription",
  "매우": "Very high",
  "매우 나쁨": "Very bad",
  "매우 좋음": "Very good",
  "메모": "Note",
  "메모(선택)": "Note (optional)",
  "멘탈": "Mental",
  "목": "Thu",
  "밤잠": "Night sleep",
  "방전 1순위": "Top drain factor",
  "방전 요인을 분석할 데이터가 부족해요.": "Not enough data to analyze drain factors.",
  "보통": "Medium",
  "부터 입력하고, 근무일만 D/E/N로 바꿔도 충분해요.": "Start there, and it's enough to switch only workdays to D/E/N.",
  "불규칙해도 매일 기록 가능": "You can log it daily even if it's irregular",
  "비우기": "Clear",
  "빈칸만": "Only empty slots",
  "빡셈": "Intense",
  "사용": "Use",
  "상단 바이탈 카드에서 자세히 확인할 수 있어요.": "Check the top Vital card for details.",
  "생리": "Period",
  "생리 / 생리 직전 / 컨디션 안정 / 컨디션 변화": "Period / Pre-period / Stable / Fluctuating",
  "생리 기간": "Period length",
  "생리 기간(일)": "Period length (days)",
  "생리 상태": "Period status",
  "생리 주기에 따라 컨디션 흐름을 한눈에 볼 수 있도록 색상 막대가 표시돼요.":
    "A color bar shows how your condition may shift across your cycle at a glance.",
  "생리 증상": "Period symptoms",
  "생리 증상 강도": "Period symptom intensity",
  "생리 직전 기간": "Pre-period window",
  "생리주기": "Cycle",
  "생리주기 설정": "Cycle settings",
  "생체 기록": "Health log",
  "선택 시작일 적용": "Apply from start date",
  "선택일 유지": "Keep selected date",
  "선택일로": "To selected date",
  "선택한 날짜부터 자동 채우기": "Auto-fill from selected date",
  "수": "Wed",
  "주간": "Day",
  "이브닝": "Evening",
  "나이트": "Night",
  "미들": "Middle",
  "오프": "Off",
  "연차/휴가": "Vacation",
  "휴가": "Vacation",
  "수면": "Sleep",
  "수면 · 스트레스 · 카페인 · 기분": "Sleep · Stress · Caffeine · Mood",
  "수면 부채": "Sleep debt",
  "수면 시간": "Sleep duration",
  "수면 시간 (h)": "Sleep (h)",
  "수면 타이밍": "Sleep timing",
  "수면 품질": "Sleep quality",
  "수면/스트레스/활동/기분/낮잠/증상/카페인 중 하나라도 입력된 날짜가 기록일로 집계됩니다.":
    "Any day with at least one of sleep/stress/activity/mood/nap/symptoms/caffeine counts as a recorded day.",
  "스트레스": "Stress",
  "시작일과 평균 주기/기간 입력": "Enter start date and average cycle/period length",
  "시작일과 평균 주기/기간을 기준으로 캘린더에 자동 표시돼요.":
    "Calendar marks are generated automatically from start date and average cycle/period.",
  "시작일을 입력하면 캘린더에": "When you enter a start date, the calendar",
  "아직 기록이 없어요.": "No records yet.",
  "안정": "Stable",
  "관찰 필요": "Observation needed",
  "위험 - 휴식 필요": "Critical - rest needed",
  "현재 바이탈은 안정적이에요.": "Your current Vital is stable.",
  "관찰이 필요해요. 회복 루틴을 확인해 주세요.": "Observation is needed. Please check your recovery routine.",
  "배터리가 위험 수준이에요. 충분한 휴식이 필요해요.":
    "Your battery is at a critical level. You need enough rest.",
  "알고리즘 회복 추천": "Algorithm-based recovery recommendation",
  "약": "Mild",
  "어떻게 계산되나요?": "How is this calculated?",
  "없음": "None",
  "에너지 도둑": "Energy thief",
  "에너지 도둑 분석": "Energy thief analysis",
  "회복 지수": "Recovery index",
  "에는 컨디션 저하 가능성이 있는 기간으로 표시돼요.": "is marked as a period where your condition may dip.",
  "에는 피로가 높게,": "is when fatigue may run high,",
  "에서 오늘 데이터를 입력해 주세요.": "to enter today's data.",
  "열기": "Open",
  "예: 1.0": "e.g. 1.0",
  "예: 150": "e.g. 150",
  "예: 2": "e.g. 2",
  "예: 28": "e.g. 28",
  "예: 5": "e.g. 5",
  "예: 6": "e.g. 6",
  "예: 6.5": "e.g. 6.5",
  "예: 컨퍼런스 / OT / 무슨 일이 있었는지": "e.g. conference / OT / what happened today",
  "예: 컨퍼런스 / OT / 오늘 있었던 일": "e.g. conference / OT / what happened today",
  "예: 특근, 교육, 회의": "e.g. extra shift, training, meeting",
  "예: D, M, E, N, OFF": "e.g. D, M, E, N, OFF",
  "예: D2E2N2M2OFF2": "e.g. D2E2N2M2OFF2",
  "오늘": "Today",
  "오늘 기록": "Today's record",
  "오늘 기분": "Today's mood",
  "오늘의 주요 지표": "Today's key metrics",
  "오늘 메모": "Today's note",
  "오늘 바이탈 요약": "Today's vital summary",
  "오늘 오더": "Today's orders",
  "오늘로 설정": "Set to today",
  "오늘의 오더 포함": "Includes today's orders",
  "오늘의 오더까지 함께 확인할 수 있어요.": "You can check today's orders too.",
  "오늘의 우선순위 오더 TOP 3": "Top 3 priority orders today",
  "오더 {rank}": "Order {rank}",
  "완료": "Done",
  "월": "Mon",
  "이 날짜부터 패턴을 적용합니다.": "Apply the pattern from this date.",
  "이 표시는 건강 상태를 진단하기 위한 것이 아니라": "This indicator is not for medical diagnosis,",
  "이에요.": ".",
  "이전": "Previous",
  "인사이트가 아직 잠겨 있어요": "Insights are still locked",
  "일": "Sun",
  "일정/컨디션 관리 참고용": "For schedule and condition tracking",
  "입력할수록 내 패턴에 맞게 더 정확해져요.": "The more you log, the better it matches your personal pattern.",
  "자동": "Auto",
  "작은 오더부터 실행하면 회복 효율이 올라갑니다.": "Starting with small orders improves recovery efficiency.",
  "잠시만 기다려 주세요.": "Please wait a moment.",
  "저장": "Save",
  "저장 중…": "Saving...",
  "저장됨 ✓": "Saved ✓",
  "적용": "Apply",
  "적용 기간": "Apply range",
  "적용 방식": "Apply method",
  "적용 시작일": "Apply start date",
  "좋음": "Good",
  "주기": "Cycle",
  "주의": "Caution",
  "중": "Moderate",
  "즉시 실행 오더": "Do-now orders",
  "증상": "Symptoms",
  "증상 강도": "Symptom intensity",
  "초기화": "Reset",
  "최근 7일 통계": "Last 7 days stats",
  "통계": "Stats",
  "통계 허브": "Stats hub",
  "통계와 알고리즘 결과를 한 곳에서 확인하세요.": "Check stats and algorithm outputs in one place.",
  "최근 7일 평균": "Last 7 days average",
  "추가 기록": "More logs",
  "출근 전 · 근무 중 · 퇴근 후 회복 루틴을 안내합니다.": "Guides recovery routines before, during, and after shifts.",
  "출혈 강도": "Bleeding intensity",
  "카페인": "Caffeine",
  "카페인 (mg)": "Caffeine (mg)",
  "캘린더 색상 안내": "Calendar color guide",
  "캘린더에 주기 표시를 설정합니다.": "Set cycle markers on the calendar.",
  "캘린더에는 첫 줄만 깔끔하게 표시돼.": "Only the first line is shown on the calendar for clarity.",
  "컨디션 변화가 큰 날": "High-fluctuation days",
  "컨디션 안정 기간": "Stable period",
  "타임라인 예보": "Timeline forecast",
  "탭에서 날짜를 눌러 입력해줘.": "Tap a date in the tab to log.",
  "토": "Sat",
  "팁: 간단하게 시작하려면": "Tip: If you want to keep it simple,",
  "패턴 형식 예: D2E2N2M2OFF2": "Pattern format example: D2E2N2M2OFF2",
  "평균 주기(일)": "Average cycle (days)",
  "피로 요인 집중 분석": "Focused fatigue-factor analysis",
  "피로도 (0~10)": "Fatigue (0-10)",
  "필수 기록": "Required logs",
  "핵심 요인": "Key factor",
  "현재 {count}일 기록됨": "{count} days recorded so far",
  "현재 {recordedDays}일 기록됨 · {remaining}일 더 기록하면 열려요":
    "{recordedDays} days recorded · unlocks after {remaining} more days",
  "현재 패턴": "Current pattern",
  "혼합": "Mixed",
  "화": "Tue",
  "활동": "Activity",
  "활동량": "Activity level",
  "수면 부족": "Sleep shortage",
  "업무 스트레스": "Work stress",
  "교대 리듬": "Shift rhythm",
  "카페인 잔존": "Leftover caffeine",
  "PMS/생리": "PMS / period",
  "기분 저하": "Low mood",
  "회복 포커스": "Recovery focus",
  "휴식 최적화": "Rest optimization",
  "휴식일 회복 추천": "Rest-day recovery recommendation",
  "Body 변화": "Body trend",
  "Google로 로그인": "Sign in with Google",
  "Mental 변화": "Mental trend",
  "mg 직접 입력(예: 150)": "Type mg directly (e.g. 150)",
  "OFF로 초기화": "Reset to OFF",
  "{label} 비중 {pct} · 회복 처방을 가장 먼저 확인하세요.": "{label} {pct} · Check recovery prescriptions first.",
  "{shift} 기준으로 바로 실행할 처방을 제공합니다.": "{shift} based, here are do-now prescriptions.",
  "{shift} 기준으로 출근 전 · 근무 중 · 퇴근 후 회복 추천을 제공합니다.":
    "Based on {shift}, recovery tips are provided for before, during, and after your shift.",
  "* Sync는 “최근 7일” 기준입니다. 입력이 쌓이면 Recovery 처방의 근거(수치)가 더 단단해져요.":
    "* Sync is based on the last 7 days. As you log more, recovery recommendations become more reliable.",
  "건강 기록 7일 이상부터 바이탈이 열립니다.": "Vital unlocks after 7+ days of health records.",
  "건강 기록 7일 이상부터 분석이 열립니다.": "Analysis unlocks after 7+ days of health records.",
  "건강 기록 7일 이상부터 오더가 열립니다.": "Orders unlock after 7+ days of health records.",
  "건강 기록 7일 이상부터 타임라인이 열립니다.": "Timeline unlocks after 7+ days of health records.",
  "건강 기록 7일 이상부터 통계가 열립니다.": "Stats unlock after 7+ days of health records.",
  "건강 기록 7일 이상부터 회복 처방이 열립니다.": "Recovery prescriptions unlock after 7+ days of health records.",
  "근무 설정 필요": "Shift setup needed",
  "근무 없이 회복을 최적화하는 휴식 루틴을 제공합니다.": "Provides a rest routine that optimizes recovery without a shift.",
  "근무 D": "Shift D",
  "근무 E": "Shift E",
  "근무가 입력되면 출근 전 · 근무 중 · 퇴근 후 회복 루틴을 제공합니다.":
    "Once a shift is set, recovery routines are provided for before, during, and after your shift.",
  "기록(수면/스트레스/활동/카페인/기분/주기)을 근거로 회복 플랜을 제공합니다.":
    "Recovery plans are generated from your records (sleep/stress/activity/caffeine/mood/cycle).",
  "기록이 쌓이면 회복 처방이 더 정교해져요.": "As records build up, recovery prescriptions become more precise.",
  "다음 듀티까지 회복 처방": "Recovery plan until your next duty",
  "리듬 부담": "Rhythm load",
  "리듬 회복": "Rhythm recovery",
  "리듬/수면/카페인": "Rhythm/Sleep/Caffeine",
  "맞춤 회복": "Personalized recovery",
  "AI 맞춤회복": "AI Recovery",
  "오늘 처방": "Today's plans",
  "한줄 요약": "One-line summary",
  "긴급 알림": "Urgent alert",
  "오늘의 회복 처방": "Today's recovery prescription",
  "이번 주 AI 한마디": "This week's AI note",
  "이번 주 평균 배터리": "This week's average battery",
  "지난주 대비": "vs last week",
  "개인 패턴": "Personal pattern",
  "다음 주 예측": "Next week preview",
  "분석 중...": "Analyzing...",
  "처방 섹션이 아직 없어요. 기록이 쌓이면 자동으로 생성돼요.":
    "No prescription sections yet. They appear automatically as your logs build up.",
  "Supabase 실시간 분석": "Supabase live analysis",
  "기기 내 임시 분석": "On-device fallback analysis",
  "OpenAI 생성 분석": "Generated by OpenAI",
  "규칙 기반 분석": "Rule-based analysis",
  "AI가 수면/교대근무/카페인/주기/스트레스/활동을 통합해 오늘의 회복 처방을 제안합니다.":
    "AI combines sleep/shift/caffeine/cycle/stress/activity data to propose today's recovery prescription.",
  "교대근무": "Shift work",
  "스트레스 & 감정": "Stress & mood",
  "신체 활동": "Physical activity",
  "멘탈 배터리": "Mental battery",
  "바디 배터리": "Body battery",
  "바이탈(Vital)": "Vital",
  "부가 지표": "Additional metrics",
  "부채가 높을수록 듀티 피로/실수 리스크가 증가합니다.": "Higher debt raises shift fatigue and mistake risk.",
  "수면부채": "Sleep debt",
  "스트레스 부하": "Stress load",
  "알고리즘 분석": "Algorithm analysis",
  "에너지 소모 분해": "Energy drain breakdown",
  "에너지 흐름": "Energy flow",
  "연속 나이트": "Consecutive nights",
  "연속 나이트가 쌓이면 회복 우선순위를 더 높입니다.": "More consecutive nights means recovery should be prioritized more.",
  "예측 정확도": "Prediction accuracy",
  "오늘 근무가 설정되지 않았어요. 일정에서 근무를 입력하면 오더가 정교해집니다.":
    "Today's shift is not set. Add your shift in Schedule for better orders.",
  "오늘 근무가 설정되지 않았어요. 일정에서 근무를 입력하면 타임라인 예보가 열립니다.":
    "Today's shift is not set. Add your shift in Schedule to unlock timeline forecast.",
  "오늘 바이탈 분석": "Today's vital analysis",
  "오늘 상태": "Today's status",
  "오늘 상태 디테일": "Today's status details",
  "오늘부터 다음 듀티까지의 회복 처방": "Recovery prescriptions from today to your next duty",
  "오늘의 회복 흐름": "Today's recovery flow",
  "요인별 입력률": "Input rate by factor",
  "우선 입력 추천: {items}": "Priority fields to log first: {items}",
  "입력 패턴이 안정적이에요. 계속 유지하면 예측이 더 정교해집니다.":
    "Your input pattern is stable. Keep it up for more precise predictions.",
  "입력률 × 영향도 기반으로 개인화 정확도를 계산합니다.": "Personalization accuracy is calculated from input rate × impact.",
  "주간 요약": "Weekly summary",
  "주기 영향": "Cycle impact",
  "최근 7일 기준": "Based on the last 7 days",
  "최근 7일의 리듬/바이탈 변화와 핵심 요인을 정리했습니다.":
    "Summarizes rhythm/vital changes and key factors from the last 7 days.",
  "출근 전 · 근무 중 · 퇴근 후 회복 루틴을 제공합니다.": "Provides recovery routines for before, during, and after your shift.",
  "카페인 영향": "Caffeine impact",
  "프리셉터 싱크(Sync)": "Preceptor Sync",
  "회복을 방해하는 핵심 요인을 비율로 분석합니다.": "Analyzes key recovery blockers by ratio.",
  "휴식일 컨디션 기반으로 회복 루틴을 추천합니다.": "Recommends recovery routines based on your rest-day condition.",
  "CSI는 리듬 부담, SRI는 회복, CIF는 카페인 영향(낮을수록 방해↑) 지표입니다.":
    "CSI tracks rhythm load, SRI tracks recovery, and CIF tracks caffeine impact (lower means more interference).",
  " 외 {count}개": " + {count} more",
  "근무 M": "Shift M",
  "근무 N": "Shift N",
  "수면 부채 경고": "Sleep debt warning",
  "싱크 완료: 예측 정확도 {percent}%": "Sync complete: prediction accuracy {percent}%",
  "야행성 적응 완료": "Night-mode adaptation complete",
  "오늘 오더 없음": "No orders today",
  "카페인 금지 (NPO)": "No caffeine (NPO)",
  "프리셉터 싱크(Sync): {count}일차": "Preceptor Sync: Day {count}",
  "현재 오더 없음": "No current orders",
  "호르몬 & 듀티 이중고": "Hormone + duty double load",
  "{base} · 평균 수면부채 {debt}h.": "{base} · Average sleep debt {debt}h.",
  "{label}이(가) 전체 소모의 {pct}를 차지했어요.": "{label} takes {pct} of total drain.",
  "* 추천은 입력 데이터 기반으로 조정됩니다.": "* Recommendations are adjusted based on your input data.",
  "20~30분 가벼운 활동으로 에너지 순환을 높이세요.": "Boost energy circulation with 20-30 minutes of light activity.",
  "20분 파워냅으로 집중력을 보정하세요.": "Use a 20-minute power nap to restore focus.",
  "90분마다 3분 리셋으로 피로를 분산하세요.": "Take a 3-minute reset every 90 minutes to spread fatigue.",
  "가벼운 스트레칭과 햇빛 산책으로 회복을 돕습니다.": "Light stretching and a short walk in sunlight help recovery.",
  "가벼운 스트레칭으로 회복 모드 전환.": "Switch to recovery mode with light stretching.",
  "가벼운 활동": "Light activity",
  "근무 단계별 회복 추천": "Recovery recommendations by shift phase",
  "근무 단계에 맞춰 회복 루틴을 최적화했어요.": "Recovery routines were optimized for your shift phase.",
  "근무 없이 회복 루틴을 최적화했어요.": "Recovery routines were optimized for a no-shift day.",
  "근무 중 컨디션 유지": "Maintain condition during shift",
  "급속 회복": "Fast recovery",
  "기상/취침 시간을 일정하게 유지하세요.": "Keep wake-up and bedtime consistent.",
  "데이터가 없어요": "No data yet.",
  "기록 입력 시 자세한 정보 제공": "Detailed insights appear after you add records.",
  "수면/스트레스/활동/카페인/기분 중 1개만 입력해도 인사이트가 시작됩니다.":
    "Insights start as soon as you log at least one of sleep/stress/activity/caffeine/mood.",
  "오늘 기록을 입력하면 바이탈과 주요 지표를 정확하게 보여드려요.":
    "Log today's record to show accurate vital and key metrics.",
  "리듬 보정을 시작하세요.": "Start rhythm correction.",
  "리듬 유지": "Maintain rhythm",
  "방전 요인을 계산할 데이터가 없어요.": "Not enough data to calculate drain factors.",
  "배경 색은 근무 유형을 의미해요": "Background colors indicate shift type.",
  "수면 루틴을 유지하고 충분히 쉬어 주세요.": "Keep your sleep routine and get enough rest.",
  "수면 부채 {hours}h": "Sleep debt {hours}h",
  "수면 부채 {hours}h 해소가 최우선. 90분 단위로 보충하세요.":
    "Clearing sleep debt ({hours}h) is top priority. Recover in 90-minute blocks.",
  "수면 부채 해소를 위해 90분 단위로 보충하세요.": "Recover in 90-minute blocks to clear sleep debt.",
  "스트레스 {percent}%": "Stress {percent}%",
  "신체": "Body",
  "야간 근무 전 밝은 빛 노출과 수분 보충이 도움 됩니다.": "Bright light and hydration before a night shift can help.",
  "야간 연속 {days}일": "{days} consecutive night shifts",
  "야간 연속으로 리듬이 흔들렸어요.": "Your rhythm has been disrupted by consecutive night shifts.",
  "업무를 단순화하고 휴식 시간을 확보하세요.": "Simplify tasks and secure break time.",
  "에너지 보존이 우선입니다.": "Energy conservation comes first.",
  "입력 데이터가 부족해 기본 회복 루틴으로 안내합니다.": "Not enough input data, showing a default recovery routine.",
  "주기 영향 {percent}%": "Cycle impact {percent}%",
  "출근 1~2시간 전 가벼운 스트레칭과 수분 보충을 권장합니다.":
    "Light stretching and hydration are recommended 1-2 hours before shift.",
  "출근 전 회복 세팅": "Pre-shift recovery setup",
  "카페인 컷오프는 근무 종료 4시간 전.": "Caffeine cutoff is 4 hours before shift end.",
  "카페인 컷오프를 앞당기세요.": "Move your caffeine cutoff earlier.",
  "카페인은 근무 초반에만.": "Keep caffeine to early shift hours only.",
  "퇴근 직후 빛 차단 후 90분 내 수면 진입을 목표로.": "Block light right after shift and aim to fall asleep within 90 minutes.",
  "퇴근 후 2시간은 저조도/저자극으로 전환.": "For 2 hours after shift, switch to low light and low stimulation.",
  "퇴근 후 회복 전환": "Post-shift recovery transition",
  "팁: 도둑 1~2개만 잡아도 체감 피로가 크게 줄어요.": "Tip: Fixing just 1-2 thief factors can noticeably reduce fatigue.",
  "현재 루틴을 유지하세요.": "Keep your current routine.",
  "휴식 중심 회복": "Rest-focused recovery",
  "맞춤 회복 플랜": "Personalized recovery plan",
  "영어 모드에서는 핵심 회복 가이드를 간단히 보여줘요.": "In English mode, we show a simplified core recovery guide.",
  "오늘 오더부터 확인하고, 다음 듀티 전 수면/수분/카페인 컷오프를 맞춰 주세요.":
    "Check today's orders first, and set your sleep/hydration/caffeine cutoff before the next duty.",
  "피로가 높으면 업무 강도를 낮추고, 60~90분마다 짧은 회복 루틴을 넣어 주세요.":
    "If fatigue is high, lower workload intensity and add short recovery breaks every 60-90 minutes.",
  "연속 야간 근무 중이라면 회복 우선으로 일정 밀도를 줄여 주세요.":
    "If you're on consecutive night shifts, prioritize recovery and reduce schedule density.",
};

const EN: Record<string, string> = { ...EN_BASE, ...EN_EXTRA };

let currentLang: Language = "ko";

export function setCurrentLanguage(lang: Language) {
  currentLang = lang;
}

export function getCurrentLanguage(): Language {
  return currentLang;
}

function applyVars(text: string, vars?: Vars) {
  if (!vars) return text;
  return Object.entries(vars).reduce(
    (acc, [key, value]) => acc.replaceAll(`{${key}}`, String(value)),
    text
  );
}

export function translate(key: string, vars?: Vars, lang: Language = currentLang) {
  const table = lang === "en" ? EN : null;
  const base = table?.[key] ?? key;
  return applyVars(base, vars);
}
